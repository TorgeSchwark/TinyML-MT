{"id":"e83eced3-abd9-4b69-9c94-fd35edbfb5fc","revision":0,"last_node_id":383,"last_link_id":708,"nodes":[{"id":287,"type":"VAEDecode","pos":[-3403.5078125,1504.4251708984375],"size":[210,46],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":442},{"localized_name":"vae","name":"vae","type":"VAE","link":441}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[652]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":371,"type":"MaskPreview+","pos":[-4569.97119140625,1670.0496826171875],"size":[210,246],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":677}],"outputs":[],"properties":{"cnr_id":"comfyui_essentials","ver":"1.1.0","Node name for S&R":"MaskPreview+"},"widgets_values":[]},{"id":295,"type":"DifferentialDiffusion","pos":[-3936.91845703125,1904.7418212890625],"size":[203.87991333007812,28.94829559326172],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":697}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[438]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"DifferentialDiffusion"},"widgets_values":[]},{"id":367,"type":"PreviewImage","pos":[-4758.52392578125,1173.2646484375],"size":[210,246],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":676}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":290,"type":"VAELoader","pos":[-4238.6787109375,1233.9229736328125],"size":[315,58],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[441,700]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"VAELoader"},"widgets_values":["ae.safetensors"]},{"id":294,"type":"FluxGuidance","pos":[-4114.2421875,1540.0228271484375],"size":[211.60000610351562,58],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":446},{"localized_name":"guidance","name":"guidance","type":"FLOAT","widget":{"name":"guidance"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[701]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"FluxGuidance"},"widgets_values":[50]},{"id":292,"type":"CLIPTextEncode","pos":[-4475.30419921875,1589.583251953125],"size":[400,200],"flags":{"collapsed":true},"order":6,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":440},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[702]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#322","bgcolor":"#533"},{"id":381,"type":"ACEPlusLoraConditioning","pos":[-4273.267578125,1647.0963134765625],"size":[315,138],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":701},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":702},{"localized_name":"vae","name":"vae","type":"VAE","link":700},{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":698},{"localized_name":"mask","name":"mask","type":"MASK","link":699},{"localized_name":"noise_mask","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":0,"links":[703]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":1,"links":[704]},{"localized_name":"latent","name":"latent","type":"LATENT","slot_index":2,"links":[705]}],"properties":{"Node name for S&R":"ACEPlusLoraConditioning"},"widgets_values":[false]},{"id":323,"type":"Note","pos":[-4820.6455078125,1986.0089111328125],"size":[454.2545166015625,174.908447265625],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["ACE_Plus Model download: https://huggingface.co/ali-vilab/ACE_Plus/blob/main"],"color":"#332922","bgcolor":"#593930"},{"id":377,"type":"ACEPlusLoraProcessor","pos":[-4795.7138671875,1381.7205810546875],"size":[315,234],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"reference_image","name":"reference_image","shape":7,"type":"IMAGE","link":673},{"localized_name":"edit_image","name":"edit_image","shape":7,"type":"IMAGE","link":null},{"localized_name":"edit_mask","name":"edit_mask","shape":7,"type":"MASK","link":null},{"localized_name":"use_reference","name":"use_reference","type":"BOOLEAN","widget":{"name":"use_reference"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"task_type","name":"task_type","type":"COMBO","widget":{"name":"task_type"},"link":null},{"localized_name":"max_seq_length","name":"max_seq_length","type":"INT","widget":{"name":"max_seq_length"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[676,698]},{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":1,"links":[677,699]},{"localized_name":"OUT_H","name":"OUT_H","type":"INT","slot_index":2,"links":[707]},{"localized_name":"OUT_W","name":"OUT_W","type":"INT","slot_index":3,"links":[706]},{"localized_name":"SLICE_W","name":"SLICE_W","type":"INT","slot_index":4,"links":[680]}],"properties":{"Node name for S&R":"ACEPlusLoraProcessor"},"widgets_values":[true,1024,1024,"no_preprocess",3072]},{"id":286,"type":"KSampler","pos":[-3885.7939453125,1667.734375],"size":[317.2386474609375,485.9841613769531],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":438},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":703},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":704},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":705},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[442]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"KSampler"},"widgets_values":[944683959826004,"randomize",20,1,"euler","normal",1]},{"id":380,"type":"LoraLoaderModelOnly","pos":[-4288.52587890625,1969.9990234375],"size":[315,82],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":696},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"strength_model","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[697]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"LoraLoaderModelOnly"},"widgets_values":["comfyui_subject_lora16.safetensors",1]},{"id":289,"type":"DualCLIPLoader","pos":[-4238.0693359375,1365.3228759765625],"size":[315,130],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"clip_name1","name":"clip_name1","type":"COMBO","widget":{"name":"clip_name1"},"link":null},{"localized_name":"clip_name2","name":"clip_name2","type":"COMBO","widget":{"name":"clip_name2"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":0,"links":[439,440]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"DualCLIPLoader"},"widgets_values":["clip_l.safetensors","t5xxl_fp8_e4m3fn.safetensors","flux","default"]},{"id":373,"type":"ImageCrop","pos":[-3454.751708984375,1646.2056884765625],"size":[315,130],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":652},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":706},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":707},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":680},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[658,708]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"ImageCrop"},"widgets_values":[512,512,0,0]},{"id":376,"type":"LoadImage","pos":[-5235.80224609375,1239.148193359375],"size":[315,314],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[673]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"LoadImage"},"widgets_values":["tomato_sauce.png","image"]},{"id":383,"type":"SaveImage","pos":[-3075.00146484375,1874.5675048828125],"size":[315,270],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":708},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.30"},"widgets_values":["ComfyUI"]},{"id":379,"type":"UNETLoader","pos":[-4272.3583984375,1828.4659423828125],"size":[315,82],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[696]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"UNETLoader"},"widgets_values":["flux1-fill-dev.safetensors","fp8_e4m3fn"]},{"id":374,"type":"PreviewImage","pos":[-3058.873779296875,1438.1051025390625],"size":[297.7324523925781,332.22821044921875],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":658}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"PreviewImage"},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":291,"type":"CLIPTextEncode","pos":[-3853.7197265625,1278.7086181640625],"size":[389.0423278808594,213.64186096191406],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":439},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[446]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"CLIPTextEncode"},"widgets_values":["Modify the given tomato sauce package to be green."],"color":"#232","bgcolor":"#353"}],"links":[[438,295,0,286,0,"MODEL"],[439,289,0,291,0,"CLIP"],[440,289,0,292,0,"CLIP"],[441,290,0,287,1,"VAE"],[442,286,0,287,0,"LATENT"],[446,291,0,294,0,"CONDITIONING"],[652,287,0,373,0,"IMAGE"],[658,373,0,374,0,"IMAGE"],[673,376,0,377,0,"IMAGE"],[676,377,0,367,0,"IMAGE"],[677,377,1,371,0,"MASK"],[680,377,4,373,3,"INT"],[696,379,0,380,0,"MODEL"],[697,380,0,295,0,"MODEL"],[698,377,0,381,3,"IMAGE"],[699,377,1,381,4,"MASK"],[700,290,0,381,2,"VAE"],[701,294,0,381,0,"CONDITIONING"],[702,292,0,381,1,"CONDITIONING"],[703,381,0,286,1,"CONDITIONING"],[704,381,1,286,2,"CONDITIONING"],[705,381,2,286,3,"LATENT"],[706,377,3,373,1,"INT"],[707,377,2,373,2,"INT"],[708,373,0,383,0,"IMAGE"]],"groups":[{"id":20,"title":"ACE_Plus FFT Workflow","bounding":[-5305.5576171875,1074.2752685546875,2592.630126953125,1121.891845703125],"color":"#3f789e","font_size":40,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.586309297171504,"offset":[4188.707011575001,-986.0547186457387]},"frontendVersion":"1.17.11","ue_links":[],"groupNodes":{}},"version":0.4}